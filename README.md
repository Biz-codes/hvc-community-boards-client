# HVC Community Boards 

HVC Community Boards is a hub for the HVC community to connect and support each other. Connect with your classmates, your fellow cast members, and the whole HVC community! Find out when your friends will be at events like More Improv More Better! Support members of the community by visiting Marketplace Boards! NEVER MISS A CHANCE FOR MORE JOY & EASE!â€‹
LET'S MAKE THE HAPPY VALLEY HAPPIER!


### 1. Working Prototype
You can access a working prototype of the React app here: https://blahblahblah.vercel.app/ and Node app here: https://blahblahblah.herokuapp.com/



### 2. User Stories
This app is for two types of users: community members and teachers.

##### Landing Page (Priority - Highest)
* as a prospective member
* I want to view basic info about the app
* so that I can decide whether to join

##### Landing Page/Login Form (Priority - Highest)
* as a registered community member or teacher
* I want to enter my login information, using a form with built-in validation
* so I can access the community boards

##### Landing Page/Login Link to Home Page (Priority - Highest)
* as a registered community member or teacher
* I want to click log in and be redirected to the Home Page (once my credentials are verified)
* so I can connect with the general HVC community

##### Landing Page Link to Signup Page (Priority - Highest)
* as a prospective member
* I want to click on a link to a signup form
* so that I can create my account



Priority - Highest
* as a community member or teacher
* I want to sign up for an account
* so I can join the HVC Community Boards

Priority - Highest
* as a community member or teacher
* I want to view the Community Hub Board
* so I can connect with the general HVC community

Priority - High
* as a community member or teacher
* I want to post to the Community Hub Board
* so I can reach out to the general HVC community

Priority - High
* as a community member or teacher
* I want to edit or delete my own posts
* so I can fix, update, or remove them

Priority - High
* as a community member or teacher
* I want to comment on other users' posts
* so I can have conversations with other users

Priority - Highest
* as a community member or teacher
* I want to view the HVC Marketplace Boards
* so I can look for businesses to support or items to buy

Priority - Highest
* as a community member or teacher
* I want to post to the HVC Marketplace Boards
* so I can share my business or items with other users

Priority - High
* as a community member or teacher
* I want to send private messages to other users
* so I can connect privately about posts I see on various Boards

Priority - High
* as a community member or teacher
* I want to view and respond to my private messages
* so I can connect privately with other users

Priority - Medium
* as a community member
* I want to join Boards for classes and casts
* so I can connect about topics related to those specific groups

Priority - Medium
* as a community member or teacher
* I want to view, post and comment on Boards for classes and casts
* so I can converse with my class/castmates

Priority - Medium
* as a teacher
* I want to invite members to join classes and casts I run
* so I can get all my students connected to group Boards

Priority - Medium
* as a teacher
* I want to set up a profile for my class or cast
* so members feel welcome, and because it's fun!

Priority - Medium
* as a teacher
* I want to approve or reject user requests to join my class or cast
* so that users are only joining their relevant groups

Priority - Medium
* as a community member
* I want to create a simple profile
* so other users know who I am

Priority - High
* as a community member or teacher
* I want to report issues to the site administrator
* so they can monitor and address any concerns with site performance or user conduct

Priority - High
* as a teacher
* I want to delete any post or comment that does not adhere to community norms
* so everyone feels safe

Priority - Medium
* as a community member or teacher
* I want to view other users' profiles
* so I can find out more about them







#### Signup Page
* as a visitor,
* I want to sign up for an account,
* so I can view and write reviews

##### Landing Page/Log In Page
* as a visitor,
* I want to log into a demo account,
* so I can try out the app



##### Reviews Page
* as a logged-in user,
* I want to search for reviews by business name, zipcode, state, category and/or identity group,
* so I can find reviews of relevant businesses and services where I can have positive experiences

##### Businesses Page
* as a logged-in user,
* I want to search for businesses and services by name, zipcode state and/or category,
* so I can review businesses/services I have visited, and visit ones from the Reviews Page

##### Businesses Page
* as a logged-in user,
* I want to click on link buttons for each business or service
* so I can add a business or write a review

##### me-friendly Page
* as a logged-in user,
* I want to view, edit and delete reviews I have written,
* so I can manage the reviews I write

##### me-friendly Page
* as a logged-in user,
* I want to view and edit businesses and services I have added to the database,
* so I can follow a link to write a review

##### Add Review Page
* as a logged-in user,
* I want to write and post reviews 
* To share my experiences with other users

##### Add Business Page 
* as a logged-in user,
* I want to add information for businesses and services
* so that other people and I can review them

##### Edit Review Page
* as a logged-in user,
* I want to edit my previous reviews
* in case I made errors or have had a different experience

##### Edit Business Page
* as a logged-in user,
* I want to edit businesses and services I have added
* in case I made errors, or something has changed about their contact information

### 2A. User Flows
![Landing & Signup Pages](/github-images/user-flows-landing-signup.jpg)
![Home Page](/github-images/user-flows-home.jpg)
![Forgot Password, Report a Problem & New Message Pages](/github-images/user-flows-forgotpassword-report-newmessage.jpg)
![Marketplace Page - Bulletin Board](/github-images/user-flows-marketplace-bulletin-board.jpg)
![Marketplace Page - Business Directory](/github-images/user-flows-marketplace-directory-newlisting-editlisting.jpg)
![Mailbox & NavBar](/github-images/user-flows-mailbox-messagethread-navbar.jpg)


### 3. Functionality
The app's functionality (v1.0) includes:
* All users can access a demo account to try the app.
* All users can create an account.
* All users can click on contact information links for the app creator.
* Logged-in users can search for reviews by business name, zipcode, state, category and/or identity group. 
* Logged-in users can search for businesses and services by name, zipcode, state and/or category.
* Logged-in users can read all reviews, write reviews, and edit and delete the reviews they have written.
* Logged-in users can view details about, save and add businesses/services, and edit details for businesses they have added.
* Logged-in users can navigate between the Landing, Reviews and Businesses pages, and their Saved page - using top navigation.
* Logged-in users can log out to return to the Landing page.
* All users can use accessibility features such as text-to-speech and navigation via keyboard.



### 4. Technology
* Front-End: HTML5, CSS3, JavaScript ES6, React
* Back-End: Node.js, Express.js, Mocha, Chai, RESTful API Endpoints, PostgreSQL
* Development Environment: Heroku, DBeaver



### 5. Wireframes
Landing Page
:-------------------------:
![Landing Page](/github-images/wireframes/landing-page.jpeg)
Sign Up Page
![Sign Up Page](/github-images/wireframes/sign-up-page.jpg)
Log In Page
![Log In Page](/github-images/wireframes/log-in-page.jpeg)
Reviews Page
![Reviews Page](/github-images/wireframes/reviews.jpg)
Businesses Page
!["Businesses Page"](/github-images/wireframes/businesses.jpeg)
"me-friendly" Page 
![me-friendly Page](/github-images/wireframes/me-friendly.jpg)
Add Review
![Add Review](/github-images/wireframes/add-review.jpg)
Edit Review
![Edit Review](/github-images/wireframes/edit-review.jpg)
Add Business
![Add Business](/github-images/wireframes/add-business.jpeg)
Edit Business
![Edit Business](/github-images/wireframes/edit-business.jpeg)




### 6. Front-end Structure - React Components Map
* __index.js__ (stateless)
    * __App.js__ (stateful)
        * __Landing.js__ (stateless)
            * __LogIn.js__ (stateful)
            * __SignUp.js__ (stateful)
            * __Nav.js__ (stateless)
            * __Businesses.js__ (stateful)
                * __AddBus.js__ (stateful)
                * __EditBus.js__ (stateful)
                * __SearchBus.js__ (stateful)      
            * __Reviews.js__  (stateful)
                * __AddRev.js__ (stateful)
                    * __RatingStars.js__ (stateful)
                * __EditRev.js__ (stateful)
                * __SearchRev.js__ (stateful)
            * __MeFriendly.js__ (stateful)
                * __RevBy.js__ (stateful)
                * __BusAdded.js__ (stateful)
                * __Remember.js__ (stateful)



### 7. Back-end Structure - Business Objects
* Users (database table)
    * id (auto-generated)
    * username (at least 3 characters, validated for uniqueness)
    * password (at least 8 chars, at least one alpha and one number validation)
    * name (full name, at least 3 chars)
* Businesses (database table)
    * id (auto-generated)
    * user_id (foreign key to users table)
    * adder_id (foreign key to users table)
    * category (from enum business_type type)
    * name (at least 3 characters)
    * address (VARCHAR(255)),
    * city (VARCHAR(255) NOT NULL)
    * state (from enum state_district_territory type NOT NULL)
    * zipcode (5 characters)
    * website (VARCHAR(255), validated for url)
* Reviews (database table)
    * id (auto-generated)
    * reviewer_id (foreign key to users table)
    * business_id (foreign key to businesses table)
    * date_modified (TIMESTAMPTZ NOT NULL DEFAULT now)
    * friendly_for (from enum identity_group type)
    * rating (1-5, NOT NULL)
    * review (VARCHAR(255) NOT NULL)


    



### 8. API Documentation
#### API Overview 
```text
    /api
    .
    â”œâ”€â”€ /auth
    â”‚   â””â”€â”€ POST
    â”‚       â”œâ”€â”€ /login
    â”œâ”€â”€ /users
    â”‚   â””â”€â”€ POST
    â”‚       â””â”€â”€ /
    â”œâ”€â”€ /businesses
    |   â””â”€â”€ GET
    |       â”œâ”€â”€ /
    |       â”œâ”€â”€ /:business_id
    |       â”œâ”€â”€ /added-by-me/:adder_id
    |   â””â”€â”€ POST
    |       â”œâ”€â”€ /
    |   â””â”€â”€ PATCH
    |       â””â”€â”€ /:business_id
    â”œâ”€â”€ /reviews
    |   â””â”€â”€ GET
    |       â”œâ”€â”€ /
    |       â”œâ”€â”€ /:review_id
    |       â”œâ”€â”€ /written-by-me/:reviewer_id
    |   â””â”€â”€ POST
    |       â”œâ”€â”€ /
    |   â””â”€â”€ DELETE
    |       â”œâ”€â”€ /:review_id
    |   â””â”€â”€ PATCH
    |       â””â”€â”€ /:review_id
    
```

##### POST `/api/auth/login`
```js
    // req.body
    {
        "name": "Cowardly Lion",
        "password": "Friendly1",
        "username": "KingOfTheForest"
    }

    // res.body
    {
        "authToken": String,
        "userId": 1
    }
```

##### POST `/api/users`
```js
    // req.body
    {
        "name": "Cowardly Lion",
        "password": "Friendly1",
        "username": "KingOfTheForest"
    }

    // res.body
    {
        "name": "Cowardly Lion",
        "password": "Friendly1",
        "username": "KingOfTheForest"
    }
```

##### GET `/api/businesses`
```js

    // res.body
    [
        {
            "id": 8,
            "adder_id": 1,
            "category": "restaurant/bar",
            "name": "Woodstar Cafe",
            "address": "60 Masonic Street",
            "city": "Northampton",
            "state": "MA",
            "zipcode": "01060",
            "website": "woodstarcafe.com"
        },
        {
            "id": 9,
            "adder_id": 2,
            "category": "shopping",
            "name": "Cedar Chest",
            "address": "150 Main Street",
            "city": "Northampton",
            "state": "MA",
            "zipcode": "01060",
            "website": "explorecedarchest.com"
        },
        {
            "id": 10,
            "adder_id": 3,
            "category": "hotel/accommodations",
            "name": "The Colonel Williams Inn",
            "address": "111 Staver Road",
            "city": "Brattleboro",
            "state": "VT",
            "zipcode": "05344",
            "website": "thecolonelwilliamsinn.com"
        },
        {
            "id": 11,
            "adder_id": 1,
            "category": "service",
            "name": "Home Environmental Services",
            "address": "4 School Street",
            "city": "Westfield",
            "state": "MA",
            "zipcode": "01085",
            "website": "homeenvironmentalservices.com"
        },
        {
            "id": 12,
            "adder_id": 2,
            "category": "housing/realty",
            "name": "Mill Valley Estates",
            "address": "420 Riverglade Drive",
            "city": "Amherst",
            "state": "MA",
            "zipcode": "01002",
            "website": "millvalleyapts.com"
        },
        {
            "id": 14,
            "adder_id": 1,
            "category": "healthcare",
            "name": "Carroll McGrath APRN",
            "address": "234 Russell Street, Suite 203",
            "city": "Hadley",
            "state": "MA",
            "zipcode": "01035",
            "website": "www.psychologytoday.com/us/psychiatrists/carroll-mcgrath-aprn-hadley-ma/174408"
        },
        {
            "id": 16,
            "adder_id": 1,
            "category": "restaurant/bar",
            "name": "Thai Garden",
            "address": "2 Bridge Street",
            "city": "Northampton",
            "state": "MA",
            "zipcode": "01060",
            "website": "thaigardennorthampton.com"
        },
        {
            "id": 15,
            "adder_id": 1,
            "category": "restaurant/bar",
            "name": "Thai Garden",
            "address": "2 Bridge St",
            "city": "Northampton",
            "state": "MA",
            "zipcode": "01060",
            "website": "thaigardennorthampton.com"
        }
    ]
```

##### GET `/api/businesses/:business_id`
```js
    // req.query
        `/14`

    // res.body
    {
        "id": 14,
        "adder_id": 1,
        "category": "healthcare",
        "name": "Carroll McGrath APRN",
        "address": "234 Russell Street, Suite 203",
        "city": "Hadley",
        "state": "MA",
        "zipcode": "01035",
        "website": "www.psychologytoday.com/us/psychiatrists/carroll-mcgrath-aprn-hadley-ma/174408"
    }
```

##### GET `/api/businesses/added-by-me/:adder_id`
```js
    // req.query
        `/2`

    // res.body
    [
        {
            "id": 9,
            "adder_id": 2,
            "category": "shopping",
            "name": "Cedar Chest",
            "address": "150 Main Street",
            "city": "Northampton",
            "state": "MA",
            "zipcode": "01060",
            "website": "explorecedarchest.com"
        },
        {
            "id": 12,
            "adder_id": 2,
            "category": "housing/realty",
            "name": "Mill Valley Estates",
            "address": "420 Riverglade Drive",
            "city": "Amherst",
            "state": "MA",
            "zipcode": "01002",
            "website": "millvalleyapts.com"
        }
    ]
```

##### POST `/api/businesses/`
```js
    // req.body
    {
        "adder_id": 3,
        "category": "restaurant/bar",
        "name": "Whetstone Station",
        "address": "36 Bridge St",
        "city": "Brattleboro",
        "state": "VT",
        "zipcode": "05301",
        "website": "whetstonestation.com"
    }

    // res.body
    {
        "id": 17,
        "adder_id": 3,
        "category": "restaurant/bar",
        "name": "Whetstone Station",
        "address": "36 Bridge St",
        "city": "Brattleboro",
        "state": "VT",
        "zipcode": "05301",
        "website": "whetstonestation.com"
    }
```

##### PATCH `/api/businesses/:business_id`
```js
    // req.body
    {
        "adder_id": 3,
        "category": "restaurant/bar",
        "name": "Whetstone Station",
        "address": "36 Bridge Street",
        "city": "Brattleboro",
        "state": "VT",
        "zipcode": "05301",
        "website": "whetstonestation.com"
    }

    // res.body

```

##### GET `/api/reviews`
```js
    // req.query
        
    // res.body
    [
        {
            "id": 1,
            "reviewer_id": 1,
            "business_id": 8,
            "date_modified": "2021-09-30T04:00:00.000Z",
            "friendly_for": "LGBTQIA+",
            "rating": 5,
            "review": "Very queer friendly! And great coffee too"
        },
        {
            "id": 2,
            "reviewer_id": 2,
            "business_id": 8,
            "date_modified": "2021-09-30T04:00:00.000Z",
            "friendly_for": "LGBTQIA+",
            "rating": 5,
            "review": "I felt totally welcomed. Northampton rocks!"
        },
        {
            "id": 3,
            "reviewer_id": 3,
            "business_id": 9,
            "date_modified": "2021-09-30T04:00:00.000Z",
            "friendly_for": "Disabled persons",
            "rating": 3,
            "review": "I had to go out into Thornes to take the elevator to the second floor, and some of the displays were close together, but the staff were helpful!"
        },
        {
            "id": 5,
            "reviewer_id": 2,
            "business_id": 9,
            "date_modified": "2021-10-30T04:00:00.000Z",
            "friendly_for": "Women",
            "rating": 5,
            "review": "Fun store! I mostly only saw women in there!"
        }
    ]
```

##### GET `/api/reviews/:review_id`
```js
    // req.query
        `/2`
    // res.body
    {
        "id": 2,
        "reviewer_id": 2,
        "business_id": 8,
        "date_modified": "2021-09-30T04:00:00.000Z",
        "friendly_for": "LGBTQIA+",
        "rating": 5,
        "review": "I felt totally welcomed. Northampton rocks!"
    }
```

##### GET `/api/reviews/written-by-me/:reviewer_id`
```js
    // req.query
        `/3`
    // res.body
    [
        {
            "id": 3,
            "reviewer_id": 3,
            "business_id": 9,
            "date_modified": "2021-09-30T04:00:00.000Z",
            "friendly_for": "Disabled persons",
            "rating": 3,
            "review": "I had to go out into Thornes to take the elevator to the second floor, and some of the displays were close together, but the staff were helpful!"
        }
    ]
```

##### POST `/api/reviews/`
```js
    // req.body
    {
        "reviewer_id": 2,
        "business_id": 17,
        "date_modified": "2021-09-30T04:00:00.000Z",
        "friendly_for": "LGBTQIA+",
        "rating": 5,
        "review": "Beautiful looking over the river. I snuggled up with my partner and the server commented on how cute we looked."
    }

    // res.body
    {
        "id": 6,
        "reviewer_id": 2,
        "business_id": 17,
        "date_modified": "2021-09-30T04:00:00.000Z",
        "friendly_for": "LGBTQIA+",
        "rating": 5,
        "review": "Beautiful looking over the river. I snuggled up with my partner and the server commented on how cute we looked."
    }
```

##### DELETE `/api/reviews/:review_id`
```js
    // req.query
    `/4`

    // res.body
    
```

##### PATCH `/api/reviews/:review_id`
```js
    // req.body
    {
        "reviewer_id": 2,
        "business_id": 9,
        "date_modified": "2021-10-30T04:00:00.000Z",
        "friendly_for": "Women",
        "rating": 5,
        "review": "Great place to buy gifts! I mostly only saw women in there!"
    }
    // res.body
    {
        "id": 5,
        "reviewer_id": 2,
        "business_id": 9,
        "date_modified": "2021-10-30T04:00:00.000Z",
        "friendly_for": "Women",
        "rating": 5,
        "review": "Great place to buy gifts! I mostly only saw women in there!"
    }

```






### 9. Screenshots
Landing Page
:-------------------------:
![Landing Page](/github-images/screenshots/landing-page.png)
Sign Up Page
![Sign Up Page](/github-images/screenshots/sign-up-page.png)
Log In Page
![Log In Page](/github-images/screenshots/log-in-page.png)
Reviews
!["Reviews Page"](/github-images/screenshots/reviews.png)
Businesses
!["Businesses Page"](/github-images/screenshots/businesses.png)
"me-friendly"
!["me-friendly"](/github-images/screenshots/me-friendly.png)
Add Business
![Add Business](/github-images/screenshots/add-business.png)
Add Review
![Add Review](/github-images/screenshots/add-review.png)
Edit Business
![Edit Business](/github-images/screenshots/edit-business.png)
Edit Review
![Edit Review](/github-images/screenshots/edit-review.png)




### 10. Development Roadmap
This is v1.0 of the app, but future enhancements are expected to include:
* add functionality to allow users to sort search results by closest zipcode, highest rating, etc.
* add functionality on Reviews page to allow users to click on the name of each business or service being reviewed and link to the Businesses Page, to see details about that business
* add functionality on Businesses page to allow users to click on a link for each business or service and link to the Reviews Page, to see reviews for that business
* add functionality to allow users to save a list of businesses they want to remember to check out (or avoid)
* add functionality for users to retrieve forgotten log in information
* add functionality for users to upload pictures of businesses/services
* add functionality for users to like or comment on other user's reviews
* add functionality to follow favorite reviewers
* add functionality for users to connect with local events





### 11. How to run it 
Use command line to navigate into the project folder and run the following in terminal

##### Local React scripts 
* To install the react project ===> npm install
* To run react (on port 3000) ===> npm start
* To run tests ===> npm run test

##### Local Node scripts 
* To install the node project ===> npm install
* To migrate the database ===> npm run migrate -- 1
* To run Node server (on port 8000) ===> npm run dev
* To run tests ===> npm run test